<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Make It - Intro</title>
  <style>
    :root{
      --ease: cubic-bezier(.18,.8,.2,1);
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
      overflow:hidden;
      color:#fff;
      font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
      background:
        radial-gradient(900px circle at 50% 45%, #6f6f6f 0%, #4c4c4c 32%, #343434 62%, #222222 82%, #181818 100%),
        linear-gradient(120deg, #ffffff18 0%, transparent 35%, #ffffff12 55%, transparent 75%, #ffffff18 100%);
      background-size: 100% 100%, 220% 220%;
      animation: bgFlow 8s linear infinite;
    }

    @keyframes bgFlow{
      0%{ background-position: 0 0, 0% 0%; }
      100%{ background-position: 0 0, 100% 100%; }
    }

    /* 마우스를 따라다니는 글리터 스파클 (concept 페이지와 동일한 효과) */
    #sparkCanvas{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:5;
      mix-blend-mode:screen;
    }

    .hero{
      position:relative;
      text-align:center;
      transform: translateY(-2vh); /* 화면 중앙보다 살짝 위 */
      z-index:10;
    }

        .hero-logo{
      position:relative;
      z-index:1;
      width: clamp(810px, 117vw, 1170px);
      height:auto;
      display:block;
      margin:0 auto 26px;
      filter: drop-shadow(0 18px 40px rgba(0,0,0,0.85));
    }


        .make-it{
      position:absolute;
      top:70%;
      left:50%;
      transform:translate(-50%, -50%);
      z-index:2;
      font-size: clamp(22px, 3vw, 30px);
      letter-spacing:0.18em;
      text-transform:uppercase;
      color:#ffffff;
      cursor:pointer;
      user-select:none;
      text-decoration:none;
      border:none;
      background:transparent;
      padding:8px 4px;
      transition:
        color 160ms ease,
        text-shadow 160ms ease,
        transform 160ms ease;
    }

    .make-it:hover{
      color:#ff1493;
      text-shadow:0 0 18px rgba(255,20,147,0.7);
    }

    .make-it:active{
      color:#c01270;
    }

    .make-it.is-clicking{
      color:#c01270;
      animation: makeClick 220ms var(--ease);
    }


    .make-it:hover{
      color:#ff1493;
      text-shadow:0 0 18px rgba(255,20,147,0.7);
    }

    .make-it:active{
      color:#c01270;
    }

    .make-it.is-clicking{
      color:#c01270;
      animation: makeClick 220ms var(--ease);
    }

    @keyframes makeClick{
      0%{ transform:scale(1); }
      50%{ transform:scale(0.93); }
      100%{ transform:scale(1); }
    }

    @media (max-width: 520px){
      .hero-logo{
        margin-bottom:20px;
      }
      .make-it{
        letter-spacing:0.14em;
      }
    }
  </style>
</head>
<body>
  <!-- 반짝이 마우스 효과 캔버스 -->
  <canvas id="sparkCanvas"></canvas>

    <div class="hero">
    <button class="make-it" id="makeItBtn">make it</button>
    <img id="heroLogo" class="hero-logo" src="assets/logo/logo1.gif" alt="Make It Logo" />
  </div>

  <script>
    // ----- 로고 10개 1초 로테이션 -----
    const logoPaths = Array.from({ length: 10 }, (_, i) => `assets/logo/logo${i+1}.gif`);
    const heroLogo = document.getElementById("heroLogo");
    let logoIndex = 0;

    function rotateLogo(){
      logoIndex = (logoIndex + 1) % logoPaths.length;
      heroLogo.src = logoPaths[logoIndex];
    }

    setInterval(rotateLogo, 1000);

    // ----- make it 텍스트 클릭 애니메이션 -----
    const makeItBtn = document.getElementById("makeItBtn");
    makeItBtn.addEventListener("click", () => {
      makeItBtn.classList.remove("is-clicking");
      void makeItBtn.offsetWidth; // 애니메이션 리셋용 강제 리플로우
      makeItBtn.classList.add("is-clicking");
    });

    // ----- Sparkle trail (concept 화면과 동일한 반짝이 효과) -----
    const sparkCanvas = document.getElementById("sparkCanvas");
    const sctx = sparkCanvas.getContext("2d");
    let sparks = [];
    let mouseX = window.innerWidth / 2;
    let mouseY = window.innerHeight / 2;
    const maxSparks = 160;

    function resizeSpark(){
      sparkCanvas.width  = window.innerWidth;
      sparkCanvas.height = window.innerHeight;
    }
    resizeSpark();
    window.addEventListener("resize", resizeSpark);

    window.addEventListener("mousemove", (e)=>{
      mouseX = e.clientX;
      mouseY = e.clientY;
      for(let i=0; i<6; i++){
        if(sparks.length > maxSparks) sparks.shift();
        const angle = Math.random() * Math.PI * 2;
        const speed = Math.random() * 0.6 + 0.15; // concept.html과 동일한 설정
        sparks.push({
          x: mouseX + (Math.random()-0.5) * 12,
          y: mouseY + (Math.random()-0.5) * 12,
          vx: Math.cos(angle) * speed,
          vy: Math.sin(angle) * speed,
          life: 1,
          decay: 0.02 + Math.random() * 0.03,
          size: Math.random() * 1.8 + 0.8,
          rot: Math.random() * Math.PI,
          rotSpeed: (Math.random() - 0.5) * 0.12
        });
      }
    });

    function drawSparks(){
      sctx.clearRect(0,0,sparkCanvas.width,sparkCanvas.height);

      for(let i=0; i<sparks.length; i++){
        const p = sparks[i];
        p.x += p.vx;
        p.y += p.vy;
        p.life -= p.decay;
        p.rot += p.rotSpeed;
        if(p.life <= 0){
          sparks.splice(i,1);
          i--;
          continue;
        }
        const alpha = p.life;

        sctx.save();
        sctx.translate(p.x, p.y);
        sctx.rotate(p.rot);
        sctx.globalAlpha = alpha;
        sctx.lineWidth = 1;
        sctx.strokeStyle = "rgba(255,255,255," + alpha + ")";
        sctx.shadowBlur = 10;
        sctx.shadowColor = "rgba(255,255,255," + (0.7 * alpha) + ")";

        const s = p.size * 2.2;
        sctx.beginPath();
        sctx.moveTo(0, -s);
        sctx.lineTo(0, s);
        sctx.moveTo(-s, 0);
        sctx.lineTo(s, 0);
        sctx.stroke();

        sctx.fillStyle = "rgba(255,255,255," + alpha + ")";
        sctx.fillRect(-0.4, -0.4, 0.8, 0.8);

        sctx.restore();
      }
      requestAnimationFrame(drawSparks);
    }
    drawSparks();
  </script>
</body>
</html>
